version: 2.1

workflows:
  integration-test-workflow:
    jobs:
      - integration-test-job

jobs:
  integration-test-job:
    machine:
      image: ubuntu-1604:202007-01
    steps:
      - run:
          name: Setup environment
          command: |
            echo "REPO_NAME=$CIRCLE_PROJECT_REPONAME" >> $BASH_ENV
            echo "REPO_BRANCH=$CIRCLE_BRANCH" >> $BASH_ENV
            echo "BUILD_NUMBER=$CIRCLE_BUILD_NUM" >> $BASH_ENV
            echo "BUILD_TIME=$(date +'%m%d%Y-%H%M%S')" >> $BASH_ENV
      - run:
          name: Check environment
          command: |
            echo "REPO_NAME: $REPO_NAME"
            echo "REPO_BRANCH: $REPO_BRANCH"
            echo "BUILD_NUMBER: $BUILD_NUMBER"
            echo "BUILD_TIME: $BUILD_TIME"